(this.webpackJsonpsrc=this.webpackJsonpsrc||[]).push([[0],{160:function(e,t,r){},180:function(e,t,r){},181:function(e,t,r){},262:function(e,t,r){},265:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(14),c=r.n(s),i=(r(160),r(37)),l=r(277),o=r(279),j=r(59),u=r(61),d=r(25),b=r.n(d),x=r(46),h=r.n(x);function p(){return p=Object(u.a)(b.a.mark((function e(){var t,r,a=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:4,e.next=3,h.a.get("/m/api/extractions",{params:{past_days:t}});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}h.a.defaults.xsrfHeaderName="X-CSRFToken";var m=r(13),O=r(272),g=r(45),f=r(282),v=r(47),y=r(81),w=r(146),C=r(273),S=r(274),F=r(275),N=r(140),k=r(280),P=r(276),z=(r(180),r(181),r(2)),M=function(){return Object(z.jsx)(o.a.Body,{className:"flex-container",children:Object(z.jsxs)("div",{className:"text-center",children:[Object(z.jsx)("div",{className:"error-size bottom-text",children:Object(z.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",fill:"currentColor",class:"bi bi-exclamation-triangle error-anim",viewBox:"0 0 16 16",children:[Object(z.jsx)("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"}),Object(z.jsx)("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"})]})}),Object(z.jsx)("h3",{className:"text-margin",children:"Error Loading Component"})]})})};var A={option:function(e){return Object(m.a)(Object(m.a)({},e),{},{color:"black"})}};function D(e){var t=e.message;return Object(z.jsx)(O.a,{id:"character_tooltip",children:t})}function L(e){var t=e.column;t.filterValue,t.preFilteredRows,t.setFilter;return Object(z.jsx)(z.Fragment,{})}function B(e){var t=e.column,r=t.filterValue,a=t.preFilteredRows,n=t.setFilter,s=a.length;return Object(z.jsx)("input",{className:"form-control",value:r||"",onChange:function(e){n(e.target.value||void 0)},placeholder:"Search ".concat(s," records...")})}var R=function(){return{}};var H=function(e){var t=e.isLoading,r=e.isFetching,a=e.data,s=e.error,c=e.columns,i=e.asyncExpandFunction,l=e.getRowProps,o=void 0===l?R:l,j=e.defaultSort,u=void 0===j?[]:j,d=n.a.useMemo((function(){return{Filter:L}}),[]),b=n.a.useMemo((function(){return{text:function(e,t,r){return e.filter((function(e){return t.some((function(t){if(r){var a=e.values[t];return"object"===typeof a&&(a=a.name),e.hasOwnProperty("originalSubRows")&&(a+=e.originalSubRows.reduce((function(e,r){return e+" "+(a=r,t.split(".").reduce((function(e,t){return e[t]}),a));var a}),"")),!!a&&a.toLowerCase().includes(r.toLowerCase())}return!0}))}))}}}),[]),x=Object(v.useTable)({columns:c,data:a,defaultColumn:d,filterTypes:b,initialState:{pageSize:20,sortBy:u}},v.useFilters,v.useSortBy,v.useExpanded,v.usePagination),h=x.getTableProps,p=x.getTableBodyProps,O=x.headerGroups,y=x.page,A=x.prepareRow,B=x.canPreviousPage,H=x.canNextPage,E=x.pageOptions,_=x.pageCount,T=x.gotoPage,I=x.nextPage,G=x.previousPage,V=x.setPageSize,J=x.visibleColumns,Q=x.state,K=Q.pageIndex,U=Q.pageSize;return t?Object(z.jsx)("div",{className:"col-xs-12 text-center",children:Object(z.jsx)(w.a,{className:"spinner-size"})}):s?Object(z.jsx)(M,{}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(C.a,{striped:!0,children:[Object(z.jsxs)("thead",Object(m.a)(Object(m.a)({},h()),{},{children:[O.map((function(e){return Object(z.jsx)("tr",Object(m.a)(Object(m.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(z.jsxs)("th",Object(m.a)(Object(m.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(z.jsx)("span",{className:"pull-right",children:e.canSort?e.isSorted?e.isSortedDesc?Object(z.jsx)(S.a,{glyph:"sort-by-attributes-alt"}):Object(z.jsx)(S.a,{glyph:"sort-by-attributes"}):Object(z.jsx)(S.a,{glyph:"sort"}):""})]}))}))}))})),O.map((function(e){return Object(z.jsx)("tr",Object(m.a)(Object(m.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(z.jsx)("th",Object(m.a)(Object(m.a)({},e.getHeaderProps()),{},{children:Object(z.jsx)("div",{children:e.canFilter?e.render("Filter"):null})}))}))}))}))]})),Object(z.jsx)("tbody",Object(m.a)(Object(m.a)({},p()),{},{children:y.map((function(e,t){A(e);var r=o(e);return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("tr",Object(m.a)(Object(m.a)({},e.getRowProps(r)),{},{children:e.cells.map((function(e){return Object(z.jsx)("td",Object(m.a)(Object(m.a)({style:{verticalAlign:"middle"}},e.getCellProps()),{},{children:e.render("Cell")}))}))})),e.isExpanded&&i({row:e,rowProps:r,visibleColumns:J})]})}))}))]}),Object(z.jsx)("div",{className:"pagination pull-right",children:Object(z.jsxs)(F.a,{children:[Object(z.jsxs)(N.a,{children:[Object(z.jsx)(g.a,{bsStyle:"success",onClick:function(){return T(0)},disabled:!B,children:Object(z.jsx)(S.a,{glyph:"step-backward"})})," ",Object(z.jsx)(g.a,{bsStyle:"success",onClick:function(){return G()},disabled:!B,children:Object(z.jsx)(S.a,{glyph:"triangle-left"})})," ",Object(z.jsx)(g.a,{bsStyle:"success",onClick:function(){return I()},disabled:!H,children:Object(z.jsx)(S.a,{glyph:"triangle-right"})})," ",Object(z.jsx)(g.a,{bsStyle:"success",onClick:function(){return T(_-1)},disabled:!H,children:Object(z.jsx)(S.a,{glyph:"step-forward"})})]}),Object(z.jsxs)(N.a,{children:[Object(z.jsx)(g.a,{active:!0,bsStyle:"success",children:"Page Size:"})," ",Object(z.jsx)(k.a,{id:"pageSizeDropdown",bsStyle:"success",title:U,onSelect:function(e){V(Number(e))},children:[20,50,100,1e6].map((function(e){return Object(z.jsxs)(P.a,{id:e,eventKey:e,value:e,children:["Show ",e]},e)}))})]})]})}),Object(z.jsx)("div",{className:"pagination pull-left",children:Object(z.jsxs)(N.a,{children:[Object(z.jsx)(g.a,{active:!0,bsStyle:"info",children:Object(z.jsx)(z.Fragment,{children:E.length>0?Object(z.jsxs)(z.Fragment,{children:["Page"," ",Object(z.jsxs)("strong",{children:[K+1," of ",E.length]})]}):Object(z.jsxs)(z.Fragment,{children:["Page ",Object(z.jsx)("strong",{children:"- of -"})]})})})," ",r?Object(z.jsx)(f.a,{placement:"bottom",overlay:D({message:"Refreshing Data"}),children:Object(z.jsx)(g.a,{bsStyle:"info",children:Object(z.jsx)(S.a,{className:"glyphicon-refresh-animate",glyph:"refresh"})})}):Object(z.jsx)(f.a,{placement:"bottom",overlay:D({message:"Data Loaded: "+(new Date).toLocaleString()}),children:Object(z.jsx)(g.a,{bsStyle:"info",children:Object(z.jsx)(S.a,{glyph:"ok"})})})]})})]})},E=r(29),_=r(30),T=r(31),I=r(145),G=function(e){Object(T.a)(r,e);var t=Object(I.a)(r);function r(e){var a;return Object(E.a)(this,r),(a=t.call(this,e)).state={error:null,errorInfo:null},a}return Object(_.a)(r,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?Object(z.jsx)(M,{}):this.props.children}}]),r}(n.a.Component),V=(r(262),r(281)),J={1884:"#9B1C31",1921:"#FFAA1D",1922:"#4B8B3B",1920:"#E86100",1923:"#0D98BA"},Q=function(){return Object(z.jsx)("div",{className:"flex-container",children:Object(z.jsxs)("div",{className:"text-center",children:[Object(z.jsx)(l.a,{bsSize:"small",style:{backgroundColor:J[1884],margin:"5px"},children:"Ubiquitous Moon Asteroids"}),Object(z.jsx)(l.a,{bsSize:"small",style:{backgroundColor:J[1920],margin:"5px"},children:"Common Moon Asteroids"}),Object(z.jsx)(l.a,{bsSize:"small",style:{backgroundColor:J[1921],margin:"5px"},children:"Uncommon Moon Asteroids"}),Object(z.jsx)(l.a,{bsSize:"small",style:{backgroundColor:J[1922],margin:"5px"},children:"Rare Moon Asteroids"}),Object(z.jsx)(l.a,{bsSize:"small",style:{backgroundColor:J[1923],margin:"5px"},children:"Exceptional Moon Asteroids"})]})})},K=Intl.DateTimeFormat("default",{year:"numeric",month:"long",day:"numeric"}),U=Intl.DateTimeFormat("default",{hour:"numeric",minute:"numeric",hour12:!1}),W=function(){var e=Object(j.useQuery)(["extractions"],(function(){return function(){return p.apply(this,arguments)}()}),{initialData:[]}),t=e.isLoading,r=e.isFetching,a=e.error,s=e.data,c=n.a.useMemo((function(){return[{Header:"Frack Arrival",accessor:"extraction_end",Cell:function(e){return Object(z.jsxs)("h5",{className:"text-center",children:[K.format(Date.parse(e.value))," ",U.format(Date.parse(e.value)),Object(z.jsx)("br",{}),Object(z.jsx)(l.a,{className:"small",children:Object(z.jsx)(V.a,{date:Date.parse(e.value)})})]})}},{Header:"Moon Name",accessor:"moon.name",Filter:B,filter:"text",Cell:function(e){return Object(z.jsxs)("div",{className:"text-center",children:[Object(z.jsx)("h4",{children:e.value}),Object(z.jsx)("br",{}),Object(z.jsx)("h5",{children:e.cell.row.original.ObserverName})]})}},{Header:"Jackpot",accessor:"jackpot",Cell:function(e){return e.value?Object(z.jsx)("div",{className:"text-center jackpot",children:Object(z.jsx)("i",{class:"fas fa-award",style:{fontSize:"64px"}})}):Object(z.jsx)(z.Fragment,{})}},{Header:"Ore Composition Remaining",accessor:"mined_ore",Filter:function(e){var t=e.column,r=t.setFilter,a=t.filterValue,s=t.preFilteredRows,c=t.id,l=n.a.useMemo((function(){var e=new Set;return s?(s.forEach((function(t){null!==t.values[c]&&t.values[c].forEach((function(t){e.add(t.type.cat)}))})),Object(i.a)(e.values())):[]}),[c,s]);return Object(z.jsx)(y.a,{title:a,onChange:function(e){return r(e.value)},value:{label:a||"All"},defaultValue:{label:"All"},styles:A,options:[{id:-1,value:"",label:"All"}].concat(l.map((function(e,t){return{id:t,value:e,label:e}})))},a)},filter:function(e,t,r){return e.filter((function(e){return t.some((function(t){if(r){var a=e.values[t].reduce((function(e,t){return e+"  "+t.type.cat}),"");return!!a&&a.toLowerCase().includes(r.toLowerCase())}return!0}))}))},Cell:function(e){return e.value?Object(z.jsx)("div",{className:"",children:e.value.map((function(t){var r=Number(t.volume/t.total_volume*100).toFixed(1);return Object(z.jsxs)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center"},children:[Object(z.jsx)("img",{alt:t.type.name,style:{width:"32px",height:"32px",margin:"15px",borderRadius:"30px",backgroundColor:J[t.type.cat_id]},src:"https://images.evetech.net/types/"+t.type.id+"/icon"}),Object(z.jsxs)("div",{style:{flexGrow:1},children:[Object(z.jsxs)("h5",{children:[t.type.name," ",Object(z.jsxs)(l.a,{className:"small",children:[(t.total_volume/e.cell.row.original.total_m3*100).toFixed(0),"%"]}),Object(z.jsxs)(l.a,{className:"small pull-right",children:["$",Number(t.value/1e9).toFixed(2),"B Mined"]}),Object(z.jsx)(l.a,{className:"pull-right",bsSize:"small",style:{backgroundColor:J[t.type.cat_id]},children:t.type.cat})]}),Object(z.jsx)("div",{className:"progress",style:{minWidth:"250px",maxWidth:"2000px"},children:Object(z.jsxs)("div",{className:r>70?"progress-bar progress-bar-striped progress-bar-warning":"progress-bar progress-bar-striped progress-bar-info active",style:{width:r+"%",color:"black"},children:[r,"% Mined"]})})]})]})}))}):Object(z.jsx)(z.Fragment,{})}}]}),[]);return Object(z.jsxs)(G,{children:[Object(z.jsx)("h1",{className:"text-center",children:"Extractions"}),Object(z.jsx)("h5",{className:"text-center small",children:"Key:"}),Object(z.jsx)(Q,{}),Object(z.jsx)("br",{}),Object(z.jsxs)(o.a,{children:[Object(z.jsx)(o.a.Heading,{className:"text-center",children:"Active Moons"}),Object(z.jsx)(o.a.Body,{children:Object(z.jsx)(H,{isLoading:t,isFetching:r,data:s,columns:c,error:a,defaultSort:[{id:"extraction_end",desc:!0}]})})]})]})},q=r(144);r(278).a.addDefaultLocale(q);var X=new j.QueryClient;var $=function(){return Object(z.jsx)(j.QueryClientProvider,{client:X,children:Object(z.jsx)(W,{})})};c.a.render(Object(z.jsx)(n.a.StrictMode,{children:Object(z.jsx)($,{})}),document.getElementById("root"))}},[[265,1,2]]]);
//# sourceMappingURL=main.fe0363b6.chunk.js.map
